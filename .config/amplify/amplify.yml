version: 1
applications:
    - docs:
        frontend:
            phases:
                preBuild:
                    commands: ['npm ci --cache .npm --prefer-offline']
                build:
                    commands: ['npm run build']
            artifacts:
                baseDirectory: '.next'
                files:
                    - '**/*'
            cache:
                paths:
                    - 'node_modules/**/*'
                    - '.next/cache/**/*'
                    - '.npm/**/*'
            buildPath: docs
        appRoot: docs
    - demo:
        frontend:
            phases:
                preBuild:
                    commands: ['npm ci --cache .npm --prefer-offline']
                build:
                    commands: ['npm run build']
            artifacts:
                baseDirectory: '.next'
                files:
                    - '**/*'
            cache:
                paths:
                    - 'node_modules/**/*'
                    - '.next/cache/**/*'
                    - '.npm/**/*'
            buildPath: demo
        appRoot: demo
