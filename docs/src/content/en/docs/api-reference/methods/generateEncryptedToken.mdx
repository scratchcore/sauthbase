---
title: generateEncryptedToken
description: Generates an encrypted token from the specified username.
---

import { OptionTable } from "@/components/_table"

# generateEncryptedToken

Type: `generateEncryptedToken(content?: string): Promise<APIResult<string>>`

`generateEncryptedToken()` is an asynchronous method that generates an encrypted token string by adding an HMAC to the specified Scratch username and then encrypting it using AES-GCM.

```ts filename="TypeScript" showLineNumbers twoslash
// @noErrors
import { sauthbase } from "sauthbase";
// ---cut---
const result = await sauthbase.use().generateEncryptedToken("exampleUser");
```

## Parameters

<OptionTable
options={[
  [
    "content",
    "string",
    "Scratch username to encrypt"
  ]
]}
/>

## Return Value

- `Promise<APIResult<string>>` â€” On success, returns an object containing the encrypted session ID (token)

## Example Usage

```ts filename="TypeScript" showLineNumbers twoslash
// @noErrors
import { sauthbase } from "sauthbase";
// ---cut---
const result = await sauthbase.use().generateEncryptedToken("KiryuToa");
if (result.success) {
  console.log("Encrypted token:", result.data);
} else {
  console.error("Error:", result.message);
}
```

## Notes

- The token can be decrypted and verified for tampering using `extractUserWithVerify()`.
- This token is intended to be stored in localStorage or cookies on the client side for later session validation.
